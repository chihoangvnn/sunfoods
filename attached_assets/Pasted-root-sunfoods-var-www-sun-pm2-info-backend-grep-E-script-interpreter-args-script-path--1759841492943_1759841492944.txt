root@sunfoods:/var/www/sun# pm2 info backend | grep -E "script|interpreter|args"
â”‚ script path       â”‚ /var/www/sun/backend/dist/index.js          â”‚
â”‚ script args       â”‚ N/A                                         â”‚
â”‚ interpreter       â”‚ node                                        â”‚
â”‚ interpreter args  â”‚ -r                                          â”‚ dotenv/config â”‚
â”‚ script id         â”‚ 0                                           â”‚
root@sunfoods:/var/www/sun# pm2 stop backend
[PM2] Applying action stopProcessId on app [backend](ids: [ 0 ])
[PM2] [backend](0) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name       â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ backend    â”‚ default     â”‚ 1.0.0   â”‚ cluster â”‚ 0        â”‚ 0      â”‚ 51   â”‚ stopped   â”‚ 0%       â”‚ 0b       â”‚ root     â”‚ disabled â”‚
â”‚ 1  â”‚ mobile     â”‚ default     â”‚ N/A     â”‚ fork    â”‚ 349571   â”‚ 0s     â”‚ 91   â”‚ online    â”‚ 92.9%    â”‚ 58.8mb   â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
root@sunfoods:/var/www/sun# cd /var/www/sun/backend
root@sunfoods:/var/www/sun/backend# node -r dotenv/config dist/index.js 2>&1 | head -200
âš ï¸  VAPID keys not configured! Push notifications will not work.
   Set VAPID_PUBLIC_KEY and VAPID_PRIVATE_KEY environment variables.
âš ï¸ THÃ”NG BÃO: Äang sá»­ dá»¥ng TikTok credentials máº«u. Vui lÃ²ng thay tháº¿ báº±ng credentials tháº­t tá»« TikTok Developer Portal Ä‘á»ƒ káº¿t ná»‘i thá»±c táº¿.
ğŸ“‹ HÆ°á»›ng dáº«n láº¥y credentials:
1. Truy cáº­p: https://developers.tiktok.com/
2. Táº¡o á»©ng dá»¥ng má»›i hoáº·c chá»n á»©ng dá»¥ng hiá»‡n táº¡i
3. Sao chÃ©p Client Key vÃ  Client Secret
4. Thay tháº¿ trong file tiktok-auth.ts dÃ²ng 40-41
ğŸ¥ Started worker health monitoring
âš ï¸ Replit OAuth credentials not found. Set REPLIT_APP_ID and REPLIT_APP_SECRET environment variables.
ğŸ¥ Started system health monitoring
ğŸ§© Initializing built-in template registry...
âœ… Loaded 4 built-in templates
âš ï¸ Campaign verifier: Redis not configured - running without queue-based verification
ğŸš€ Registering API Management Middleware...
âœ… API Management Middleware registered successfully
ğŸš€ Starting Facebook post scheduler...
ğŸš€ Starting post scheduler - checking every minute for scheduled posts
Query: select "id", "caption", "hashtags", "asset_ids", "social_account_id", "platform", "scheduled_time", "timezone", "status", "published_at", "platform_post_id", "platform_url", "error_message", "retry_count", "last_retry_at", "analytics", "created_at", "updated_at", "priority", "ip_pool_id", "ip_snapshot", "batch_id" from "scheduled_posts" where ("scheduled_posts"."status" = $1 and "scheduled_posts"."scheduled_time" <= $2) order by "scheduled_posts"."scheduled_time" -- params: ["scheduled", "2025-10-07T12:51:23.722Z"]
âœ… Shopee routes loaded successfully
ğŸ”§ API Management middleware initialized
ğŸ¤– Mounting Product FAQs Router...
âœ… Product FAQs Router mounted successfully
ğŸšš Mounting ViettelPost routes...
âœ… ViettelPost routes mounted successfully
Serving admin static files from /var/www/sun/backend/public/admin
serving on port 3000
ğŸš€ Starting post scheduler...
âœ… Scheduler started - polling every 60s
ğŸš€ Starting analytics scheduler (interval: 3600s)
ğŸ“Š Starting analytics collection run...
ğŸš€ Starting campaign verifier...
ğŸš€ Starting campaign verifier worker...
Query: select "id", "caption", "hashtags", "asset_ids", "social_account_id", "platform", "scheduled_time", "timezone", "status", "published_at", "platform_post_id", "platform_url", "error_message", "retry_count", "last_retry_at", "analytics", "created_at", "updated_at", "priority", "ip_pool_id", "ip_snapshot", "batch_id" from "scheduled_posts" where ("scheduled_posts"."status" = $1 and "scheduled_posts"."scheduled_time" <= $2) order by "scheduled_posts"."scheduled_time" -- params: ["scheduled", "2025-10-07T12:51:23.875Z"]
Query: select "id", "caption", "hashtags", "asset_ids", "social_account_id", "platform", "scheduled_time", "timezone", "status", "published_at", "platform_post_id", "platform_url", "error_message", "retry_count", "last_retry_at", "analytics", "created_at", "updated_at", "priority", "ip_pool_id", "ip_snapshot", "batch_id" from "scheduled_posts" "scheduledPosts" where ("scheduledPosts"."status" = $1 and ("scheduledPosts"."analytics" is null or "scheduledPosts"."updated_at" < $2)) order by "scheduledPosts"."published_at" asc limit $3 -- params: ["posted", "2025-10-07T12:21:23.876Z", 50]
Query: select "id", "campaign_id", "customer_id", "share_url", "submitted_at", "status", "verification_scheduled_at", "last_verified_at", "rewarded_at", "voucher_id", "rejection_reason", "verification_attempts", "metadata", "created_at", "updated_at" from "campaign_participations" where ("campaign_participations"."status" = $1 and "campaign_participations"."verification_scheduled_at" <= $2) order by "campaign_participations"."verification_scheduled_at" -- params: ["pending", "2025-10-07T12:51:23.876Z"]
ğŸ“‹ Found 0 participations to verify
Query: select "id", "caption", "hashtags", "asset_ids", "social_account_id", "platform", "scheduled_time", "timezone", "status", "published_at", "platform_post_id", "platform_url", "error_message", "retry_count", "last_retry_at", "analytics", "created_at", "updated_at", "priority", "ip_pool_id", "ip_snapshot", "batch_id" from "scheduled_posts" where ("scheduled_posts"."status" = $1 and "scheduled_posts"."retry_count" <= $2) -- params: ["failed", 2]
ğŸ“­ No due posts at 2025-10-07T12:51:23.875Z
ğŸ“ˆ Found 0 posts to fetch analytics for
âœ… Analytics collection complete: 0 success, 0 errors